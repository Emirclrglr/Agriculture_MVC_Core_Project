@model EntityLayer.Concrete.Contact
<div class="col-md-9 contact-middle">
    <head>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    </head>
    <h2>Merhaba deyin</h2>
    @using (Html.BeginForm("SendMessage", "Default", FormMethod.Post, new { id = "contactForm" }))
    {
        <div class="form-agileinfo">
            <p>Ad Soyad</p>
            <input type="text" asp-for="Name" placeholder="Ad Soyad" required="" />
            <p>Email</p>
            <input type="email" asp-for="Mail" placeholder="Mail Adresiniz" required="" />
        </div>
        <div class="form-agileits-w3layouts">
            <p>Mesaj</p>
            <textarea asp-for="Message" placeholder="Mesajınız" required=""></textarea>
            <input type="submit" value="MESAJ GÖNDER">
        </div>
        <div class="clearfix"></div>
    }

</div>

<script>
    document.getElementById('contactForm').addEventListener('submit', function (event) {
        event.preventDefault(); // Formun normaldeki gönderimini durdurur

        Swal.fire({
            title: "Mesajınız gönderildi...",
            text: "Mesajınız ilgili kişilere iletilmiştir. Yakın zamanda sizlerle iletişime geçilecektir.",
            icon: "success",
            showConfirmButton: true,
            confirmButtonText: "Tamam",
            allowOutsideClick: false
        }).then((result) => {
            if (result.isConfirmed) {
                event.target.submit(); // Onaylandıktan sonra formu gönderir
            }
        });
    });
</script>